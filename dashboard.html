
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard | Earn Paisa Today</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
/* ================== GLOBAL ================== */
*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:#f3f4f6;
  color:#1f2937;
}

/* ================== DASHBOARD HEADER / TOP BAR ================== */
header{
  background:#0f172a;
  color:#fff;
  padding:16px 22px;          /* üî• slim professional bar */
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header h2{margin:0;font-size:20px}
header .actions a,
header .actions button{
  margin-left:10px;
  padding:8px 14px;
  border-radius:8px;
  font-size:13px;
}

/* ================== MAIN WRAPPER ================== */
.dashboard-container{
  max-width:1200px;
  margin:32px auto;           /* üî• tighter top spacing */
  padding:0 18px;             /* üî• mobile safe */
}

/* ================== SECTION TITLE ================== */
.section-title{
  font-size:22px;
  margin:28px 0 16px;
  font-weight:700;
}

/* ================== GRID ================== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:22px;                   /* üî• premium spacing */
}

/* ================== CARD ================== */
.card{
  background:#fff;
  border-radius:18px;
  padding:24px;               /* üî• perfect dashboard padding */
  box-shadow:0 8px 22px rgba(0,0,0,.08);
  transition:.25s ease;
}
.card:hover{ transform:translateY(-4px); }

.card h3{
  margin:0 0 10px;
  font-size:17px;
}
.card p{
  margin:0;
  font-size:14px;
  color:#4b5563;
}

/* ================== STATS / BALANCE ================== */
.stat-box{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.stat-box b{
  font-size:26px;
  color:#0ea5e9;
}
.stat-box span{
  font-size:13px;
  color:#6b7280;
}

/* ================== TABLE ================== */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
  font-size:14px;
}
th,td{
  padding:12px 10px;          /* üî• readable rows */
  border-bottom:1px solid #e5e7eb;
  text-align:left;
}
th{
  background:#f9fafb;
  font-weight:600;
}

/* ================== BUTTONS ================== */
.btn{
  padding:10px 18px;
  border:none;
  border-radius:10px;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
}
.btn-primary{
  background:#2563eb;
  color:#fff;
}
.btn-secondary{
  background:#e5e7eb;
  color:#111827;
}

/* ================== FORMS ================== */
input,select{
  width:100%;
  padding:12px 14px;          /* üî• form spacing */
  border-radius:10px;
  border:1px solid #d1d5db;
  font-size:14px;
  margin-top:8px;
}

/* ================== FOOTER ================== */
footer{
  margin-top:50px;
  padding:22px 18px;
  text-align:center;
  font-size:13px;
  color:#6b7280;
}
</style>
</head>

<body>

<header>
  <h2>üìä User Dashboard</h2>
  <div class="top-btns">
    <a href="withdraw.html">Withdraw</a>
    <a href="leaderboard.html" class="cta">üèÜ Leaderboard</a>
    <a href="settings.html">Settings</a>
    <a href="#" onclick="logout()">Logout</a>
  </div>
</header>

<div class="container">

  <!-- STATS -->
  <div class="grid">

    <div class="card">
      <h3>Total Balance</h3>
      <div class="amount">‚Çπ<span id="balance">0</span></div>
      <a href="withdraw.html" class="cta">Withdraw</a>
    </div>

    <div class="card">
      <h3>Total Earnings</h3>
      <div class="amount">‚Çπ<span id="total">0</span></div>
      <a href="affiliate-marketing.html" class="cta">Earn More</a>
    </div>

    <div class="card">
      <h3>Today Earnings</h3>
      <div class="amount">‚Çπ<span id="today">0</span></div>
      <a href="survey-tasks.html" class="cta">Do Tasks</a>
    </div>

    <div class="card">
      <h3>Referrals</h3>
      <div class="amount"><span id="refs">0</span></div>
      <a href="share.html" class="cta">Invite Friends</a>
    </div>

  </div>

  <!-- SHARE CTA -->
  <div class="grid" style="margin-top:30px">

    <div class="card share-box">
      <h3>üîó Share & Earn (International)</h3>
      <p>
        Share your referral link worldwide and earn bonus
        when users join & earn.
      </p>
      <a href="share.html" class="cta">Share Now</a>
    </div>

    <div class="card">
      <h3>üåç International Offers</h3>
      <p>Earn from global surveys, passive income & CPA offers.</p>
      <a href="international-offers.html" class="cta">View Offers</a>
    </div>

  </div>

</div>

<footer>
  <a href="index.html">Home</a> |
  <a href="payment-proof.html">Payment Proof</a> |
  <a href="privacy-policy.html">Privacy Policy</a><br>
  ¬© 2026 Earn Paisa Today
</footer>

<script>
/* FIREBASE CONFIG */
const firebaseConfig={
  apiKey:"AIzaSyBwd7y4uG955kZ5eg91ryn8bzbWzK2R_Ks",
  authDomain:"earnpaisatoday.firebaseapp.com",
  projectId:"earnpaisatoday"
};
firebase.initializeApp(firebaseConfig);

const auth=firebase.auth();
const db=firebase.firestore();

/* AUTH CHECK */
auth.onAuthStateChanged(user=>{
  if(!user){
    location.href="login.html";
    return;
  }
  loadData(user.uid);
});

/* LOAD DATA */
function loadData(uid){
  db.collection("users").doc(uid).onSnapshot(doc=>{
    if(!doc.exists) return;
    const d=doc.data();
    balance.innerText=d.balance||0;
    total.innerText=d.totalEarnings||0;
    today.innerText=d.todayEarnings||0;
    refs.innerText=d.referrals||0;
  });
}

/* LOGOUT */
function logout(){
  auth.signOut().then(()=>location.href="index.html");
}
</script>

</body>
</html>
