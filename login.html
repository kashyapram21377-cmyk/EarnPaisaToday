<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login | Earn Paisa Today</title>

<meta name="description" content="Login or signup to Earn Paisa Today. Access dashboard, earnings, withdraw and admin panel securely.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  font-family:Segoe UI,Arial;
  background:linear-gradient(135deg,#ff5722,#ff9800);
  display:flex;
  align-items:center;
  justify-content:center;
}

/* CARD */
.card{
  width:100%;
  max-width:420px;
  background:#fff;
  border-radius:22px;
  padding:32px 28px;
  box-shadow:0 18px 40px rgba(0,0,0,.25);
  text-align:center;
}
.card h1{
  margin:0;
  color:#ff5722;
  font-size:26px;
}
.card p{
  font-size:14px;
  color:#555;
  margin:10px 0 22px;
}

/* INPUT */
.input{
  width:100%;
  padding:13px 14px;
  margin:10px 0;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:14px;
}

/* BUTTON */
.btn{
  width:100%;
  padding:13px;
  margin-top:14px;
  border:none;
  border-radius:14px;
  font-size:15px;
  font-weight:700;
  cursor:pointer;
}
.primary{
  background:#ff5722;
  color:#fff;
}
.primary:hover{background:#e64a19}

.google{
  background:#fff;
  border:1px solid #ddd;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

.google img{width:18px}

/* LINKS */
.link{
  display:inline-block;
  margin-top:12px;
  font-size:13px;
  color:#ff5722;
  cursor:pointer;
}

/* MESSAGE */
.msg{
  margin-top:14px;
  font-size:13px;
}
.ok{color:green}
.err{color:#d32f2f}

/* FOOTER */
.footer{
  margin-top:20px;
  font-size:12px;
  color:#777;
}
.footer a{
  color:#555;
  text-decoration:none;
}
</style>
</head>

<body>

<div class="card">
  <h1>Earn Paisa Today</h1>
  <p>Secure login to your earning dashboard</p>

  <input type="email" id="email" class="input" placeholder="Email address">
  <input type="password" id="password" class="input" placeholder="Password">

  <button class="btn primary" onclick="login()">üîê Login</button>

  <div class="link" onclick="resetPassword()">Forgot password?</div>

  <hr style="margin:20px 0">

  <button class="btn google" onclick="googleLogin()">
    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg">
    Continue with Google
  </button>

  <div class="link" onclick="signup()">Create new account</div>

  <div id="msg" class="msg"></div>

  <div class="footer">
    By continuing, you agree to our<br>
    <a href="privacy-policy.html">Privacy Policy</a> &
    <a href="disclaimer.html">Disclaimer</a>
  </div>
</div>

<script>
/* ================= FIREBASE AUTO SETUP ================= */
const firebaseConfig = {
  apiKey: "AIzaSyBwd7y4uG955kZ5eg91ryn8bzbWzK2R_Ks",
  authDomain: "earnpaisatoday.firebaseapp.com",
  projectId: "earnpaisatoday"
};
firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const msg = document.getElementById("msg");

/* ================= AUTO REDIRECT ================= */
auth.onAuthStateChanged(user=>{
  if(user){
    if(user.email === "kashyapram21377@gmail.com"){
      window.location.href="admin.html";
    }else{
      window.location.href="dashboard.html";
    }
  }
});

/* ================= LOGIN ================= */
function login(){
  const email=document.getElementById("email").value;
  const pass=document.getElementById("password").value;

  if(!email || !pass){
    msg.innerHTML="<span class='err'>Enter email and password</span>";
    return;
  }

  auth.signInWithEmailAndPassword(email,pass)
  .catch(e=>{
    msg.innerHTML="<span class='err'>"+e.message+"</span>";
  });
}

/* ================= SIGNUP ================= */
function signup(){
  const email=document.getElementById("email").value;
  const pass=document.getElementById("password").value;

  if(!email || !pass){
    msg.innerHTML="<span class='err'>Enter email and password</span>";
    return;
  }

  auth.createUserWithEmailAndPassword(email,pass)
  .catch(e=>{
    msg.innerHTML="<span class='err'>"+e.message+"</span>";
  });
}

/* ================= GOOGLE LOGIN ================= */
function googleLogin(){
  const provider=new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider)
  .catch(e=>{
    msg.innerHTML="<span class='err'>"+e.message+"</span>";
  });
}

/* ================= RESET PASSWORD ================= */
function resetPassword(){
  const email=document.getElementById("email").value;
  if(!email){
    msg.innerHTML="<span class='err'>Enter email first</span>";
    return;
  }
  auth.sendPasswordResetEmail(email)
  .then(()=>{
    msg.innerHTML="<span class='ok'>Password reset email sent</span>";
  })
  .catch(e=>{
    msg.innerHTML="<span class='err'>"+e.message+"</span>";
  });
}
</script>

</body>
</html>
